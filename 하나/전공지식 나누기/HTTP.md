# HTTP

## [프로토콜이란?]
> 컴퓨터 내부에서, 또는 컴퓨터 사이에서 데이터의 교환 방식을 정의 하는 규칙체계

  웹 문서를 주고받을땐 HTTP 프로토콜,  
  파일을 주고 받을 때는 FTP 프로토,  
  메일을 주고 받을 때는 SMTP프로토콜을 사용하는 등,   
  전송 계층과 유형에 따라 다양한 프로토콜들이 있다.  
  
  📌 그중에서도 HTTP 프로토콜은 인터넷상에서 데이터를 주고 받기 위해
서버/클라이언트 모델을 따르는 프로토콜이다.  
또한 애플리케이션 레벨의 프로토콜로 TCP/IP 위에서 작동한다.

## [HTTP의 특징]
1. 클라이언트 서버 구조
->클라이언트가 서버에 요청을 보내면 서버는 요청에 대한 응답을 보내는 클라이언트-서버구조  
-즉, 클라이언트가 서버에 요청을 보내고 응답을 대기하면, 서버가 요청에 대한 결과를 만들어 응답을 준다  

1. 무상태 프로토콜
-> 서버가 클라이언트의 상태를 보존하지 않기 때문에 클라이언트는 이어지는 요청이라도 반복해서 보내야한다.
    
    
       예시) 햄버거 주문시
       햄버거 주문-> 햄버거 세트 주문-> 햄버거 세트 2개 주문-> 햄버거 세트 2개, 카드 결제
       장점: 데이터를 저장해두지 않아도 되기 때문에 응답서버를 쉽게 바꿀 수 있음-> 서버의 확장성 높음
       단점:클라이언트가 많은 데이터를 보내야함
    
       그럼 상태유지 프로토콜은?
       -> 햄버거 주문=> 세트 -> 2개 -> 카드 결제
       but상태 유지 프로토콜이라면 중간에 오류 발생 시 처음부터 다시 요청을 시작해야함
    
2. 비연결성
-> 연결을 유지하지 않는다.  

3. HTTP 메세지  

4. 단순함, 확장 가능  

## [HTTP 메시지]
> 응용계층의 데이터 단위는 메시지. HTTP 메시지는 애플리케이션이 만든 데이터에 헤더를 붙여 캡슐화 한 것

*헤더에는 각 계층에 적용되는 프로토콜이 데이터를 처리하여 계층의 역할을 수행할 때 필요한 정보가 담김  
*예) 데이터 전송역할을 해주는 네트워크 인터페이스 계층, 인터넷 계층, 전송 계층의 헤더에는 수신지의 주소 같이 데이터 전송에 필요한 정보가 담겨있음  

==> HTTP 헤더에는 HTTP 프로토콜이 요청과 응답이라는 형식으로 데이터를 처리하기 위한 정보가 담김  
HTTP 요청 메시지에는 서버가 실행해야 할 요청이, HTTP 응답 메시지에는 서버가 요청을 실행한 결과가 담김  

### HTTP가 정의한 대표적인 메서드로는 GET, POST,PUT, DELETE
#### 🐤GET  
> GET 메소드는 주로 데이터를 읽거나(Read) 검색(Retrieve)할 때에 사용되는 메소드이다.  
=>URL로 지정한 리소스를 보내달라 (데이터를 조회)  
만약에 GET요청이 성공적으로 이루어진다면  200 (Ok) HTTP 응답 코드를 리턴  
에러가 발생하면 주로 404 (Not found) 에러나 400 (Bad request) 에러가 발생   

1. 클라이언트에서 /members/100 으로 100번 유저를 조회해서 정보를 달라고 GET 요청을 한다.   
2. 서버에서는 받은 메세지를 분석해 내부의 유저정보를 조회한 뒤 결과 Response를 만든다.  
3. 1. 응답 메세지를 받았고, 정상적으로 받았기에 200 OK status를 가지고 회원정보도 담겨있다.  
⇒ 위 예시에서는 JSON이지만 실제로는 HTML일수도있고 다양하다.  

HTTP 명세에 의하면 GET 요청은 오로지 데이터를 읽을 때만 사용되고 수정할 때는 사용하지 않는다.  
GET 요청은 idempotent 하다.  
같은 요청을 여러 번 하더라도 변함없이 항상 같은 응답을 받을 수 있다.  
데이터를 변경하는 연산에 사용하면 안된다.    

#### 🐤POST   
> POST 메소드는 주로 새로운 리소스를 생성(create)할 때 사용  
=>요청 데이터를 처리(등록에 사용), 메시지 바디를 통해 서버로 요청 데이터를 전달  
성공적으로 완료하면 201 HTTP 응답을 반환    

1. 클라이언트는 메세지 바디에 등록할 회원 정보를 JSON 형태로 만들어 담는다.  
그리고 해당 정보를 서버로 전송한다.  

2. POST 요청은 idempotent 하지 않다.  
같은 POST 요청을 반복해서 했을 때 항상 같은 결과물이 나오는 것을 보장하지 않는다  
두 개의 같은 POST 요청을 보내면 같은 정보를 담은 두 개의 다른 resource를 반환할 가능성이 높다.  
